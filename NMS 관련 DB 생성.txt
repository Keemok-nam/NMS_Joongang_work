//1. DB 경로
cd c:\program files\firebird\firebird_2_1\bin

//2. 계정 생성, 삭제, 수정등을 할수 있는 mode로 접속
gsec -user sysdba -password masterkey

//3. 계정 생성
add KTC -pw KTC2233

//4. quit로 접속 해제

//5. ISQL 모드로 접속
isql -user sysdba -password masterkey

	//DATABASE 생성
	CREATE DATABASE <DB파일명(경로포함)> USER '소유주ID' PASSWORD '암호'
	ex) CREATE DATABASE 'D:\Temp\NMS.FDB' USER 'KTC' PASSWORD 'KTC2233';

	※ Database 생성시 SQLCODE = -902 에러 발생시
	   시작-프로그램-firebird-firebird ISQL TOOL로 실행하여 Database 생성

//6. Database 접근
isql -user  KTC -password KTC2233

//7. Database 접속
connect 'D:\Temp\NMS.FDB' user 'KTC' password 'KTC2233';

//8. Table 생성
//개인정보 Table 생성
CREATE TABLE INDIINFO (
INDEX_ID INTEGER NOT NULL,		//순번
NAME VARCHAR(30) NOT NULL,		//이름
RANK VARCHAR(15) NOT NULL,		//계급
ID VARCHAR(30) UNIQUE NOT NULL,		//IDqu
PW VARCHAR(30) NOT NULL,		//PW
RIFLE_ID VARCHAR(10) UNIQUE NOT NULL,	//소총번호
PICTURE BLOB,				//사진(증명사진)
FPCODE1 INTEGER,			//지문코드1
FPCODE2 INTEGER,			//지문코드2
FPCODE3 INTEGER,			//지문코드3
FGIMAGE1 BLOB,				//지문이미지1
FGIMAGE2 BLOB,				//지문이미지2
FGIMAGE3 BLOB,				//지문이미지3
MANAGER INTEGER,			//관리자 여부
PRIMARY KEY( ID )
);

//GENERATOR와 TRIGGER은 INDIINFO TABLE의 INDEX_ID 필드를 자동으로 증가 시켜주기 위함임.
//9. GENERATOR 생성
CREATE GENERATOR GEN_INDIINFO_INDEXID;

//10. TRIGGER 생성
SET TERM!!;
CREATE TRIGGER TRIG_INDIINFO_INDEXID FOR INDIINFO
   ACTIVE BEFORE INSERT POSITION 0
      AS
      BEGIN
         NEW.INDEX_ID = GEN_ID(GEN_INDIINFO_INDEXID, 1);
      END !!
SET TERM !!;

//Data 입력
INSERT INTO INDIINFO ( NAME, RANK, ID, PW, RIFLE_ID, MANAGER ) VALUES
 ( '정교석', '병장', 'JKS', 'JKS', '1234567890', 1 );
INSERT INTO INDIINFO ( NAME, RANK, ID, PW, RIFLE_ID, PICTURE, MANAGER ) VALUES
 ( '정교석', '병장', 'JKS', 'JKS', '1234567890', STREAM, 1 );

//근무명령서 Table 생성
CREATE TABLE RIFLE_SCHEDULE (
INDEX_ID INTEGER UNIQUE NOT NULL,	//순번
ID VARCHAR(30),				//ID
RANK VARCHAR(15),			//계급
NAME VARCHAR(30),			//이름
RIFLE_ID VARCHAR(10),			//소총번호
PICTURE BLOB,				//사진(증명사진)
STARTTIME TIME[10],			//출고시간배열[10]
STOPTIME TIME[10],			//입고시간배열[10]
AMMUNITIONBOX INTEGER [10],		//탄약함 Open 여부
MAGAZINEBOX INTEGER [10],		//탄창합 Open 여부
NOTE VARCHAR(30)[10],			//비고
PRIMARY KEY( INDEX_ID )
);


CREATE TABLE RIFLE_SCHEDULE (
INDEX_ID INTEGER NOT NULL,
ID VARCHAR(30),
RANK VARCHAR(15),
NAME VARCHAR(30),
RIFLE_ID VARCHAR(10),
PICTURE BLOB,
STARTTIME1 TIME,
STARTTIME2 TIME,
STARTTIME3 TIME,
STARTTIME4 TIME,
STARTTIME5 TIME,
STOPTIME1 TIME,
STOPTIME2 TIME,
STOPTIME3 TIME,
STOPTIME4 TIME,
STOPTIME5 TIME,
AMMUNITIONBOX1 INTEGER,
AMMUNITIONBOX2 INTEGER,
AMMUNITIONBOX3 INTEGER,
AMMUNITIONBOX4 INTEGER,
AMMUNITIONBOX5 INTEGER,
MAGAZINEBOX1 INTEGER,
MAGAZINEBOX2 INTEGER,
MAGAZINEBOX3 INTEGER,
MAGAZINEBOX4 INTEGER,
MAGAZINEBOX5 INTEGER,
NOTE1 VARCHAR(30),
NOTE2 VARCHAR(30),
NOTE3 VARCHAR(30),
NOTE4 VARCHAR(30),
NOTE5 VARCHAR(30),
PRIMARY KEY( INDEX_ID )
);
